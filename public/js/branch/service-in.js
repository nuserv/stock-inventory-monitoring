$(document).on("click",".good",function(){$("#inOptionModal .close").click();$("#status").val("in");$("#goodModal").modal({backdrop:"static",keyboard:!1})});$(document).on("click",".defective",function(){$("#inOptionModal .close").click();$("#status").val("defective");$("#goodModal").modal({backdrop:"static",keyboard:!1})});$(document).on("click",".pull-out",function(){$("#inOptionModal .close").click();$("#pulloutModal").modal({backdrop:"static",keyboard:!1})});
$(document).on("change",".goodcategory",function(){var a=" ",c=$(this).attr("row_count"),f=$("#goodcustomer"+c).val(),g=$(this).val();(function(d){$.ajax({type:"get",url:"description",data:{customerid:f,categoryid:g},success:function(e){console.log(e);a+='<option selected value="select" disabled>select description</option>';for(var h=0;h<e.length;h++)a+='<option value="'+e[h].items_id+'">'+e[h].item.toUpperCase()+"</option>";$("#gooddesc"+c).find("option").remove().end().append(a)}})})(goodcategory1);
$("#gooddesc"+c).val("select description")});
$(document).on("change",".goodcustomer",function(){var a=" ",c=$(this).attr("row_count"),f=$(this).val();(function(g){$.ajax({type:"get",url:"category",data:{id:f},success:function(d){console.log(d);a+='<option selected value="select" disabled>select description</option>';for(var e=0;e<d.length;e++)a+='<option value="'+d[e].category_id+'">'+d[e].category.toUpperCase()+"</option>";$("#goodcategory"+c).find("option").remove().end().append(a)}})})(goodcustomer1);$("#goodcategory"+c).val("select category")});
$(document).on("change",".gooddesc",function(){var a=" ",c=$(this).attr("row_count"),f=$("#goodcustomer"+c).val(),g=$("#goodcategory"+c).val(),d=$(this).val();(function(e){$.ajax({type:"get",url:"serial",data:{customerid:f,categoryid:g,descid:d},success:function(h){console.log(h);a+='<option selected value="select" disabled>select description</option>';for(var k=0;k<h.length;k++)a+='<option value="'+h[k].id+'">'+h[k].serial.toUpperCase()+"</option>";$("#goodserial"+c).find("option").remove().end().append(a)}})})(gooddesc1);
$("#goodserial"+c).val("select serial")});
$(document).on("click",".pout_add_item",function(){var a=$(this).attr("btn_id");if("Add Item"==$(this).val()){if($("#poutcategory"+a).val()&&$("#poutdesc"+a).val()&&$("#poutserial"+a).val()){y++;var c='<div class="row no-margin" id="poutrow'+y+'"><div class="col-md-2 form-group"><select id="poutcategory'+y+'" class="form-control poutcategory" row_count="'+y+'" style="color: black;"><option selected disabled>select category</option></select></div><div class="col-md-3 form-group"><select id="poutdesc'+y+
'" class="form-control poutdesc" row_count="'+y+'" style="color: black;"><option selected disabled>select description</option></select></div><div class="col-md-2 form-group"><input type="text" id="poutserial'+y+'" class="form-control poutserial" row_count="'+y+'" style="color: black;" value="N/A"></div><div class="col-md-1 form-group"><input type="button" class="pout_add_item btn btn-xs btn-primary" btn_id="'+y+'" value="Add Item"></div></div>';$(this).val("Remove");$("#poutcategory"+a).prop("disabled",
!0);$("#poutdesc"+a).prop("disabled",!0);$("#poutserial"+a).prop("disabled",!0);20>r&&($("#poutfield").append(c),$("#poutcategory"+a).find("option").clone().appendTo("#poutcategory"+y),r++)}}else 20==r&&(y++,c='<div class="row no-margin" id="poutrow'+y+'"><div class="col-md-2 form-group"><select id="poutcategory'+y+'" class="form-control poutcategory" row_count="'+y+'" style="color: black;"><option selected disabled>select category</option></select></div><div class="col-md-3 form-group"><select id="poutdesc'+
y+'" class="form-control poutdesc" row_count="'+y+'" style="color: black;"><option selected disabled>select description</option></select></div><div class="col-md-2 form-group"><input type="text" id="poutserial'+y+'" class="form-control poutserial" row_count="'+y+'" style="color: black;" value="N/A"></div><div class="col-md-1 form-group"><input type="button" class="pout_add_item btn btn-xs btn-primary" btn_id="'+y+'" value="Add Item"></div></div>',$("#poutfield").append(c),$("#poutcategory"+a).find("option").clone().appendTo("#poutcategory"+
y),r++),$("#poutcategory"+a).val("select category"),$("#poutdesc"+a).val("select description"),$("#poutserial"+a).val("input serial"),$("#poutcategory"+a).prop("disabled",!1),$("#poutdesc"+a).prop("disabled",!1),$("#poutserial"+a).prop("disabled",!1),$("#poutrow"+a).hide(),$(this).val("Add Item"),r--});
$(document).on("click",".pout_sub_Btn",function(){var a=1;if(""!=$("#pcustomer-id").val()){console.log(1);for(var c=1;c<=y;c++)if($("#poutrow"+c).is(":visible")&&"Remove"==$(".pout_add_item[btn_id='"+c+"']").val()){a++;console.log(2);$(".pout_sub_Btn").prop("disabled",!0);var f=$("#poutcategory"+c).val();var g=$("#poutdesc"+c).val();var d=$("#poutserial"+c).val();client=$("#pclient-id").val();customer=$("#pcustomer-id").val();$.ajax({url:"pull-out",headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},
dataType:"json",type:"POST",data:{item:g,serial:d,cat:f,customer:customer,client:client}})}}else return alert("Invalid Customer Name!!!!"),!1;1<a&&(console.log(3),alert("Inventory updated!!!"),window.location.href="stocks")});
$(document).on("click",".good_add_item",function(){var a=$(this).attr("btn_id");console.log("1");if("Add Item"==$(this).val()){console.log("2");if($("#goodserial"+a).val()){y++;var c='<div class="row no-margin" id="goodrow'+y+'"><div class="col-md-3 form-group"><select id="goodcustomer'+y+'" class="form-control goodcustomer" row_count="'+y+'"><option selected disabled>select customer</option></select></div><div class="col-md-2 form-group"><select id="goodcategory'+y+'" class="form-control goodcategory" row_count="'+
y+'"><option selected disabled>select category</option></select></div><div class="col-md-3 form-group"><select id="gooddesc'+y+'" class="form-control gooddesc" row_count="'+y+'"><option selected disabled>select description</option></select></div><div class="col-md-2 form-group"><select id="goodserial'+y+'" class="form-control goodserial" row_count="'+y+'"><option selected disabled>select serial</option></select></div><div class="col-md-1 form-group"><input type="button" class="good_add_item btn btn-xs btn-primary" btn_id="'+
y+'" value="Add Item"></div></div>';$(this).val("Remove");$("#goodcustomer"+a).prop("disabled",!0);$("#goodcategory"+a).prop("disabled",!0);$("#gooddesc"+a).prop("disabled",!0);$("#goodserial"+a).prop("disabled",!0);console.log("3")}10>b&&($("#service-unitfield").append(c),$("#goodcustomer"+a).find("option").clone().appendTo("#goodcustomer"+y),b++,console.log("4"))}else console.log("5"),10==b&&(y++,c='<div class="row no-margin" id="goodrow'+y+'"><div class="col-md-3 form-group"><select id="goodcustomer'+
y+'" class="form-control goodcustomer" row_count="'+y+'"><option selected disabled>select customer</option></select></div><div class="col-md-2 form-group"><select id="goodcategory'+y+'" class="form-control goodcategory" row_count="'+y+'"><option selected disabled>select category</option></select></div><div class="col-md-3 form-group"><select id="gooddesc'+y+'" class="form-control gooddesc" row_count="'+y+'"><option selected disabled>select description</option></select></div><div class="col-md-2 form-group"><select id="goodserial'+
y+'" class="form-control goodserial" row_count="'+y+'"><option selected disabled>select serial</option></select></div><div class="col-md-1 form-group"><input type="button" class="good_add_item btn btn-xs btn-primary" btn_id="'+y+'" value="Add Item"></div></div>',$("#service-unitfield").append(c),$("#goodcustomer"+a).find("option").clone().appendTo("#goodcustomer"+y),console.log("6"),b++),$("#goodrow"+a).hide(),$(this).val("Add"),b--});
$(document).on("click","#good_sub_Btn",function(){var a=1;console.log(y);for(var c=1;c<=y;c++)if($("#goodrow"+c).is(":visible")&&(console.log(y),"Remove"==$(".good_add_item[btn_id='"+c+"']").val())){a++;$("#good_sub_Btn").prop("disabled",!0);var f=$("#goodserial"+c).val();status=$("#status").val();$.ajax({url:"service-in",headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},dataType:"json",type:"PUT",data:{serial:f,status:status}})}1<a&&(alert("Inventory updated!!!"),window.location.href=
"stocks")});$(document).on("keyup","#pclient",function(){var a=$(this).val(),c=" ";$("#pcustomer").val("");$("#pcustomer-name").find("option").remove();(function(f){$.ajax({type:"get",url:"client-autocomplete",data:{id:a},success:function(g){c+=" ";for(var d=0;d<g.length;d++)c+='<option data-value="'+g[d].id+'" value="'+g[d].customer.toUpperCase()+'"></option>';$("#pclient-name").find("option").remove().end().append(c);$("#pclient-id").val($('#pclient-name [value="'+$("#pclient").val()+'"]').data("value"))}})})(pclient)});
$(document).on("keyup","#pcustomer",function(){var a=$(this).val(),c=" ";if($("#pclient-id").val())var f=$("#pclient-id").val();else return alert("Incomplete Client Name!!!!"),!1;(function(g){$.ajax({type:"get",url:"customer-autocomplete",data:{id:a,client:f},success:function(d){c+=" ";for(var e=0;e<d.length;e++)c+='<option data-value="'+d[e].id+'" value="'+d[e].customer_branch.toUpperCase()+'"></option>';$("#pcustomer-name").find("option").remove().end().append(c);$("#pcustomer-id").val($('#pcustomer-name [value="'+
$("#pcustomer").val()+'"]').data("value"))}})})(pcustomer)});$(document).on("change",".poutdesc",function(){var a=$(this).attr("row_count");$("#poutserial"+a).val("N/A")});
$(document).on("change",".poutcategory",function(){var a=" ",c=$(this).attr("row_count"),f=$(this).val();(function(g){$.ajax({type:"get",url:"itemcode",data:{id:f},success:function(d){a+='<option selected value="select" disabled>select description</option>';for(var e=0;e<d.length;e++)a+='<option value="'+d[e].id+'">'+d[e].item.toUpperCase()+"</option>";$("#poutdesc"+c).find("option").remove().end().append(a)}})})(poutdesc1);$("#poutdesc"+c).val("select description")});