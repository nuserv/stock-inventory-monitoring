var table;
$(document).ready(function(){table=$("table.defectiveTable").DataTable({dom:"lrtip",processing:!0,serverSide:!0,language:{emptyTable:" "},ajax:"return-table",columns:[{data:"date",name:"date"},{data:"category",name:"category"},{data:"item",name:"item"},{data:"serial",name:"serial"},{data:"status",name:"status"}]});$(".tbsearch").delay().fadeOut("slow");$("#search-ic").on("click",function(){for(var a=0;5>=a;a++)$(".fl-"+a).val("").change(),table.columns(a).search("").draw();$(".tbsearch").toggle()});$(".filter-input").keyup(function(){table.column($(this).data("column")).search($(this).val()).draw()})});
$(document).on("click","#defectiveTable tr",function(){var a=table.row(this).data();console.log(a);$("#branch_id").val(a.branchid);$("#date").val(a.date);$("#description").val(function(b){return b.replace(/&#(?:x([\da-f]+)|(\d+));/ig,function(c,d,e){return String.fromCharCode(e||+("0x"+d))})}(a.item));$("#status").val(a.status);$("#myid").val(a.id);$("#serial").val(a.serial);"For return"==a.status?$("#submit_Btn").show():$("#submit_Btn").hide();$("#returnModal").modal({backdrop:"static",keyboard:!1})});
$(document).on("click","#submit_Btn",function(){var a=$("#branch_id").val(),b=$("#myid").val();console.log(a);console.log(b+"id");$.ajax({url:"return-update",headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},dataType:"json",type:"PUT",data:{id:b,branch:a,status:"For receiving"},success:function(c){window.location.href="return"},error:function(c,d,e){alert(c.responseText)}})});$(document).on("click",".cancel",function(){window.location.href="return"});